---
title: "Theory of Probability"
author: "林嘉文"
date: "2017年8月19日"
output: html_document
---
#Chapter 1 Combinatorial Analysis

##Counting:Principle of Counting

说是叫counting，其实是一种连乘法则。我们在考虑“一件事”有多少种可能的时候，我们都会把这件事拆成“小事件”，这件事其实是由一步步的小事件组成的，所以我们顺次连乘某个大事件的所有小事件的可能事件数，就得到了这件事的可能事件数。比如说，如果有 *r* 个小事件，每个小事件有 $n_{i}$ 种可能结果，则总结果数可以表示成
$$n_{1}*n_{2}*n_{3}*...*n_{r}$$

*需要指出的是，我们在这里并不用纠结到底有没有独立的要求或者什么相关性，我们纯粹从计数的目的考虑，那么就算小事件之间有关联，我们认为计数总是没有错的。*


*所以我们现在的任务是计算出$n_{1}$、$n_{2}$、$n_{r}$的值。而计算它们的方法到最后无非两种，一种是排列，一种是组合。*


##Permutations:排列一般是针对n个个体一起进行

* 个体有区分：$n!$
* 个体无区分(与连乘法则不相符)：$\frac{n!}{n_{1}!*...}$ (分母部分除的就是认为无区分的个体)

##Combinations:组合一般是要求从n个个体中挑选一部分(例如r个个体)
* 挑出来的组的组内个体是有顺序的：$n*(n-1)*(n-2)...*(n-r+1)$ = $\frac{n!}{(n-r)!}$
* 挑出来的组的组内个体是无顺序的：$\frac{n*(n-1)*(n-2)...*(n-r+1)}{r!}$=$\frac{n!}{(n-r)!r!}=$=$C_{n}^{r}$


*key point:连乘法则其实在一次counting中被运用了很多次，因为对于一个大大事件，我们可以拆成多个大事件，每个大事件又可以拆成多个事件，每个事件又可以拆成多个小事件。我们可以把小事件理解为permutation和combination，它们也都在用连乘！但是，连乘法则的默认条件是**所有个体都不相同**，**所有抽出来的组内都有顺序**。所以每当我们使用permutation和combination时，如果出现个体相同的排列/组内无顺序的组合都先使用连乘法则，再将其转化为对应的情况，做法就是在分母做除法。*

> 我们可以简单举例，比如有A/B/C三个人，我们要从中抽取两个人，请问有多少种方法？这就是一个组内无顺序的组合。假如我们直接用连乘，那就是3*2=6种，但是其实AB和BA是一样的，AC和CA是一样的，BC和CB是一样的，即不考虑不同的顺序。所以实际上只有3种可能。

> n个人中有m个人是坏人，问有多少种线性排列使得坏人不会紧挨着？
> 逻辑就是：我们先排列(n-m)个好人，再把坏人插空放进去。
> $\frac{(n-m)!}{(n-m)!}\times\frac{(n-m+1)!}{(n-2m+1)!m!}$  
> 这个计算式的前半部分是一个排列，但是我们把所有好人当做相同的个体，就必须做除法，后半部分是一个组合，这就是一个无顺序的组合。

> 一个人有8个朋友，其中5个要被邀请去聚会。(a)如果8个人中2个人不可以同时去(b)如果8个人中2个人要么都去要么就都不去。请问有多少种选择  
> (a)逻辑就是没有限制的时候的选择数-2个人同时去的选择数。  
> $C_{8}^{5}-C_{6}^{3}$  
> (b)逻辑就是2个都去的选择数+2个都不去的选择数  
> $C_{6}^{3}+C_{6}^{5}$  
> 这是一个关于组合的题目，而且都是组内无顺序的。

##Binomial coefficient and multiple coefficients

* $C_{n}^{r}$ 就是二项式系数，它对应的就是把n个个体分成两组所对应的可能数，所以$C_{n}^{r}$=$C_{n}^{n-r}$，因为只要分出一组来，另一组也就确定了。
* 如果我们把n个个体分成r个不同的组，每组对应的大小为$n_{1}$、$n_{2}$、$n_{3}$、$\cdots$、$n_{r}$，并且$\sum n_{i}=n$，则对应的可能数就是$\frac{n!}{n_{1}!n_{2}!...n_{r}!}$。这就是多项式系数。其推导就是

##Binomial Theorem

$$(x+y)^{n}=\sum_{k=0}^{n}C_{n}^{k}x^{k}y^{n-k}$$
其证明可以使用induction method或者使用组合思想。

> 组合思想：这个$(x+y)^{n}$实际上就是n个(x+y)相乘，展开后可以想象到有很多项相加，但是每一项的次数总和都是n，那么在这个n次项中，可能是0个x，n个y构成的$y^{n}$，也可以是1个x，(n-1)个y构成的$xy^{n-1}$....而对于比如说$xy^{n-1}$，这个x可以从n个(x+y)中任意挑一个，所以用$C_{n}^{k}$表示挑出来的，且是没有顺序的。这样，我们就可以理解这个求和式为什么这么写了。

> proof:1.显然，当n=1时，等式成立。  
2.假设当n=t-1时成立，$(x+y)^{t-1}=\sum_{k=0}^{t-1}C_{t-1}^{k}x^{k}y^{t-1-k}$  
3.当n=t时，$(x+y)^t$=$(x+y)^{t-1}(x+y)$=$(x+y)\sum_{k=0}^{t-1}C_{t-1}^{k}x^{k}y^{t-1-k}$=$\sum_{k=0}^{t-1}C_{t-1}^{k}x^{k+1}y^{t-k-1}$+$\sum_{k=0}^{t-1}C_{t-1}^{k}x^{k}y^{t-k}$=$\sum_{k=1}^{t}C_{t-1}^{k-1}x^{k}y^{t-k}$+$\sum_{k=0}^{t-1}C_{t-1}^{k}x^{k}y^{t-k}$=$x^{t}$+$\sum_{k=1}^{t-1}C_{t-1}^{k-1}x^{k}y^{t-k}$+$y^t$+$\sum_{k=1}^{t-1}C_{t-1}^{k}x^{k}y^{t-k}$=$x^{t}$+$y^{t}$+$\sum_{k=1}^{t-1}C_{t}^{k}x^{k}y^{t-k}$=$\sum_{k=0}^{t}C_{t}^{k}x^{k}y^{t-k}$

##Multinomial Theorem

$$(x_{1}+x_{2}+...+x_{r})^{n}=\sum_{n_{1},n_{2},...,n_{r}}^{n_{1}+n_{2}+...+n_{r}=n}C_{n}^{n_{1},n_{2},...,n_{r}}(x_{1})^{n_{1}}(x_{2})^{n_{2}}\cdots(x_{r})^{n_{r}}$$

#Chapter 2 Axioms of Probability

##样本空间及事件

第一章所计算的结果是第二章的基础

*Definition:The **sample space S** of an experiment(whose outcome is uncertain) is the set of all possible outcomes of the experiment.*

*Any **subset E** of the sample space S is known as an **event**.If the outcome of the experiment is in E,then we say that E has occoured.*

> 一个样本空间有多少outcomes就需要用第一章的知识来计算。E就是S的一个子集，所以事件(event)就是一个集合，它是outcome的集合，某个事件可能只包含一个outcome，也可能包含多个outcome。比如，掷骰子，那么得到的结果{1,2,3,4,5,6}就是一个样本空间。事件“掷到6”对应的是一个outcome，但是事件“掷到奇数”对应的就是3个outcome。但是如果某个outcome进入到E这个集合中我们就说事件发生了，比如掷到3，那么我们就说掷到奇数这个事件发生了。

* 交集：Given events E and F ,$E\cap F$ is the set of all outcomes which are both in E and F.$E\cap F$ is also denoted $EF$.(intersection oF events)
* 并集：Given events E and F ,$E\cup F$ is the set of all outcomes either in E or F or both E and F.$E\cup F$ occours if either E or F occours.(union of events)
* 补集：For any event E ,$E^{c}$ denote the complement set of all outcomes in S which are not in E.We have $E\cup E^{c}=S$ and $E\cap E^{c}=\phi$
* 子集：For any two events E and F,we write $E\subset F$ as all the outcomes of E are in F.

$$E\cup F=F\cup E \qquad E\cap F=F\cap E$$
$$(E\cup F)\cup G=E\cup(F\cup G)$$
$$(E\cap F)\cap G=E\cap(F\cap G)$$
$$(E\cup F)\cap G=(E\cap G)\cup(F\cap G)$$
$$(E\cap F)\cup G=(E\cup G)\cap(F\cup G)$$

DeMorgan's law
$$(\cup_{i=1}^{n}E_{i})^{c}=\cap_{i=1}^{n}E_{i}^{c}$$
$$(\cap_{i=1}^{n}E_{i})^{c}=\cup_{i=1}^{n}E_{i}^{c}$$

> (i)对于$\forall x \in (\cup_{i=1}^{n}E_{i})^{c}$,则$x \notin \cup_{i=1}^{n}E_{i}$  
> $\Rightarrow x\notin E_{i},i=1,2,3,...,n$  
> $\Rightarrow x\in E_{1}^{c},x\in E_{2}^{c},\cdots$  
> $\Rightarrow x\in \cap_{i=1}^{n}E_{i}^{c}$  
> $\therefore (\cup_{i=1}^{n}E_{i})^{c}\subset\cap_{i=1}^{n}E_{i}^{c}$  
> 同理，对于$\forall x\in \cap_{i=1}^{n}E_{i}^{c}$,则$x\in E_{i}^{c},i=1,2,3,\cdots,n$  
> $\Rightarrow x\notin E_{i},i=1,2,3,\cdots,n$  
> $\Rightarrow x\notin \cup_{i=1}^{n}E_{i}$  
> $\Rightarrow x\in (\cup_{i=1}^{n}E_{i})^{c}$  
> $\therefore \cap_{i=1}^{n}E_{i}^{c}\subset(\cup_{i=1}^{n}E_{i})^{c}$  
> 因此得证  
> (ii)令$F_{i}=E_{i}^{c}$,则由(i)  
> $\Rightarrow \cap_{i=1}^{n}(F_{i}^{c})^{c}=(\cup_{i=1}^{n}F_{i}^{c})^{c}$  
> 对上式两边取补集，即得证

##概率

我们现在从事件进入到概率。

*Consider an experiment with sample space S.For each event E,we assume that a number P(E),the **probability** of the event E,is defined and satisfies the following 3 axioms.*

* Axiom 1: $0\leq P(E)\leq 1$
* Axiom 2: $P(S)=1$
* Axiom 3: For any sequence of **mutually exclusive** events $\{E_{i}\}_{i\geq 1}$,i.e.$E_{i}\cap E_{j}=\phi$ when $i\neq j$,then $$P(\cup_{i=1}^{\infty}E_{i})=\sum_{i=1}^{\infty}P(E_{i})$$

*Direct consequences include $P(\phi)=0$*

1. $P(E^{c})=1-P(E)

> $1=P(S)=P(E\cup E^{c})=P(E)+P(E^{c})$

2. If $E\subset F$ then $P(E)\leq P(F)$

> $P(F)=P((E\cup E^{c})\cap F)=P((E\cap F)\cup (E^{c}\cap F))=P(E\cap F)+P(E^{c}\cap F)=P(E)+P(E^{c}\cap F)$

3. $P(E\cup F)=P(E)+P(F)-P(E\cap F)$

> 容斥原理：$P(E_{1}\cup E_{2}\cdots\cup E_{n})=\sum_{i=1}^{n}P(E_{i})+\sum_{r=2}^{n-1}(-1)^{r+1}\sum_{i_{1}<i_{2}\cdots<i{r}}P(E_{i1}E_{i2}\cdots E_{ir})+(-1)^{n+1}P(E_{i1}\cdots E_{in})$

##等概率情况

*Assume S={1,2,...N} then it is often narural to assume P({i})=$\frac{1}{N}$.So for any event E,*

$$P(E)=\frac{\textrm{# of outcomes in E}}{\textrm{# of outcomes in S}}$$
